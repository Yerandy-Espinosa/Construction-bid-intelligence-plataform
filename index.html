<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Construction Bid Intelligence ‚Äî Demo (M1)</title>
<meta name="description" content="Modern demo for a construction bid intelligence tool: upload PDFs, choose an action, and preview pricing comparisons or risk insights.">
<style>
  :root{
    /* Dark palette */
    --bg-top:#0b1220;        /* deep navy */
    --bg-bottom:#0a0f1a;     /* slightly darker navy */
    --card:#0f172a;          /* slate-900 */
    --ink:#e5e7eb;           /* slate-200 */
    --muted:#9aa3b2;         /* slate-400-ish */
    --primary:#60a5fa;       /* blue-400 */
    --primary-2:#3b82f6;     /* blue-500 */
    --accent:#f59e0b;        /* amber-500 */
    --accent-2:#fbbf24;      /* amber-400 */
    --border:#1f2937;        /* slate-800 */
    --glass: rgba(255,255,255,0.06);
    --radius: 16px;
    --radius-sm: 12px;
    --shadow: 0 20px 50px rgba(0,0,0,.35);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    color:var(--ink);
    background: linear-gradient(180deg, var(--bg-top), var(--bg-bottom));
  }
  a{color:inherit}
  .container{max-width:1200px;margin:0 auto;padding:0 20px}
  header{
    position:sticky;top:0;z-index:40;
    backdrop-filter:saturate(150%) blur(10px);
    background:rgba(11,18,32,.65);
    border-bottom:1px solid var(--border);
  }
  .nav{display:flex; align-items:center; justify-content:space-between; padding:12px 0; gap:12px; flex-wrap:wrap}
  .logo{display:flex; align-items:center; gap:12px}
  .mark{
    height:40px;width:40px;border-radius:12px;
    display:grid; place-items:center;
    background: linear-gradient(135deg, var(--accent), #f97316);
    color:#111; font-weight:900;
    box-shadow: 0 8px 30px rgba(245,158,11,.25);
  }
  .btn{
    display:inline-flex; align-items:center; justify-content:center; gap:10px;
    padding:11px 15px; border-radius:14px;
    font-weight:700; letter-spacing:.2px;
    border:1px solid var(--border);
    background:var(--glass); color:var(--ink);
    cursor:pointer;
    transition: all .2s ease;
    touch-action:manipulation;
  }
  .btn:hover{transform:translateY(-1px); box-shadow:0 10px 30px rgba(0,0,0,.25)}
  .btn.primary{
    background: linear-gradient(180deg, var(--primary), var(--primary-2));
    border-color: transparent; color:#fff;
    box-shadow: 0 10px 30px rgba(59,130,246,.35);
  }
  .btn.accent{
    background: linear-gradient(180deg, var(--accent), #ea580c);
    border-color: transparent; color:#1a1307;
    box-shadow: 0 10px 30px rgba(245,158,11,.3);
  }
  .badge{border:1px solid var(--border); padding:6px 10px; border-radius:999px; font-size:12px; color:#cbd5e1; background:var(--glass)}
  /* Hero */
  .hero{padding:56px 0 32px}
  .hero-in{display:grid;grid-template-columns:1.15fr 1fr; gap:28px; align-items:center}
  @media (max-width: 980px){ .hero-in{grid-template-columns:1fr} }
  h1{
    font-size: clamp(28px, 5vw, 56px);
    line-height: 1.06; margin:0 0 10px;
    letter-spacing:.3px;
  }
  .lead{color:var(--muted); font-size: clamp(14px, 2.5vw, 18px); margin-bottom:20px}
  .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow)}
  .svgwrap{border-radius:14px;border:1px solid var(--border);background:linear-gradient(180deg,#0e1629,#0b1220);padding:10px}
  .badges{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
  /* Features */
  .features{display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin-top:24px}
  @media (max-width: 980px){ .features{grid-template-columns:1fr} }
  .feature{
    background:var(--glass); border:1px solid var(--border); border-radius:var(--radius);
    padding:14px; display:flex; gap:12px; align-items:flex-start;
  }
  .ficon{
    height:36px;width:36px;border-radius:10px; display:grid; place-items:center;
    background: linear-gradient(180deg, #0b162a, #0b1321); border:1px solid var(--border); color:#d1d5db;
  }
  /* Overlay Wizard (single panel) */
  .overlay{
    position:fixed; inset:0; display:none; place-items:center; z-index:60;
    background: rgba(5,10,18,.6); backdrop-filter: blur(6px);
  }
  .overlay.show{display:grid}
  .wizard{
    width:min(980px, 94vw); background: rgba(15,23,42,.9);
    border:1px solid var(--border); border-radius:20px; box-shadow: var(--shadow);
    overflow:hidden;
  }
  .w-head{display:flex; justify-content:space-between; align-items:center; padding:14px 16px; border-bottom:1px solid var(--border); background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); gap:10px; flex-wrap:wrap}
  .w-title{font-weight:800}
  .stepper{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
  .chip{font-size:12px; padding:6px 10px; border-radius:999px; border:1px solid var(--border); color:#cbd5e1; background:var(--glass)}
  .chip.active{background:linear-gradient(180deg, var(--primary), var(--primary-2)); color:#fff; border-color:transparent}
  .w-body{padding:16px}
  .panel{background:var(--glass); border:1px solid var(--border); border-radius:16px; padding:14px}
  .drop{border:2px dashed var(--border); border-radius:14px; padding:16px; text-align:center; background:#0b1424}
  .files{display:grid; grid-template-columns:1fr 1fr; gap:8px; margin-top:10px}
  @media (max-width: 600px){ .files{grid-template-columns:1fr} }
  .file{display:flex; align-items:center; gap:8px; border:1px solid var(--border); border-radius:10px; padding:8px; background:#0b1424}
  .radio-grid{display:grid; grid-template-columns:repeat(3,1fr); gap:10px}
  @media (max-width: 900px){ .radio-grid{grid-template-columns:1fr} }
  .rcard{border:1px solid var(--border); border-radius:14px; padding:12px; background:#0b1424; cursor:pointer; transition:.2s}
  .rcard:hover{transform:translateY(-1px); box-shadow:0 8px 20px rgba(0,0,0,.2)}
  .rcard.active{outline:2px solid var(--primary)}
  .input{width:100%; padding:12px; border-radius:12px; background:#0b1424; border:1px solid var(--border); color:var(--ink)}
  .progress{width:100%; height:12px; border-radius:999px; background:#0b1424; border:1px solid var(--border); overflow:hidden}
  .bar{height:100%; width:0%; background:linear-gradient(90deg, var(--primary), var(--accent)); transition:width .3s}
  .result{background:#0b1424; border:1px solid var(--border); border-radius:14px; padding:12px; margin-top:12px}
  table{width:100%; border-collapse:collapse; font-size:14px}
  th,td{padding:10px; border-top:1px solid var(--border); text-align:left; color:var(--ink)}
  thead th{background:#0b1424; color:#cbd5e1}
  .w-actions{display:flex; gap:10px; justify-content:flex-end; margin-top:12px; flex-wrap:wrap}
  .footer{border-top:1px solid var(--border); color:#94a3b8; padding:28px 0; text-align:center; margin-top:36px}
  /* Buttons full width on small screens */
  @media (max-width: 480px){ .btn{width:100%} }
</style>
</head>
<body>
<header>
  <div class="container nav">
    <div class="logo">
      <div class="mark">CBI</div>
      <div>
        <div style="font-weight:800; letter-spacing:.2px">Construction Bid Intelligence</div>
        <div style="color:var(--muted); font-size:12px">Upload PDFs ‚Ä¢ Smart search ‚Ä¢ Pricing comparison ‚Ä¢ Risk insights</div>
      </div>
    </div>
    <div class="nav-cta" style="display:flex;gap:10px;flex-wrap:wrap">
      <button class="btn" id="openWizardTop">Live Demo</button>
      <button class="btn primary" id="ctaStartTop">Start Analysis</button>
    </div>
  </div>
</header>

<section class="hero">
  <div class="container hero-in">
    <div>
      <h1>Win bids faster with AI‚Äëassisted document intelligence</h1>
      <p class="lead">
        Upload bid abstracts, plans & specs, then compare pricing and surface risks in seconds.
        Local‚Äëfirst, secure by default‚Äîbuilt for construction workflows.
      </p>
      <div class="badges">
        <span class="badge">Multi‚ÄëPDF</span>
        <span class="badge">Pricing comparison</span>
        <span class="badge">Risk insights</span>
        <span class="badge">Local‚Äëfirst</span>
      </div>
      <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:14px">
        <button class="btn primary" id="ctaStart">Start Analysis</button>
        <button class="btn" id="openWizard">See Interactive Demo</button>
      </div>

      <div class="features">
        <div class="feature">
          <div class="ficon">üìÑ</div>
          <div><div style="font-weight:700">Bulk PDF ingestion</div><div style="color:var(--muted)">Drag, drop and go‚Äîabstracts, plans, specs and past bids.</div></div>
        </div>
        <div class="feature">
          <div class="ficon">üìä</div>
          <div><div style="font-weight:700">Pricing comparisons</div><div style="color:var(--muted)">Line‚Äëby‚Äëline tables aligning spec sections across past bids.</div></div>
        </div>
        <div class="feature">
          <div class="ficon">üõ°Ô∏è</div>
          <div><div style="font-weight:700">Risk insights</div><div style="color:var(--muted)">Surface ambiguities, conflicts and site constraints before you bid.</div></div>
        </div>
      </div>
    </div>
    <div class="card" aria-hidden="true">
      <div class="svgwrap">
        <svg viewBox="0 0 640 420" role="img" aria-label="Construction illustration">
          <defs>
            <linearGradient id="g1" x1="0" x2="0" y1="0" y2="1">
              <stop offset="0" stop-color="#3b82f6"/><stop offset="1" stop-color="#0ea5e9"/>
            </linearGradient>
            <linearGradient id="g2" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0" stop-color="#f59e0b"/><stop offset="1" stop-color="#f97316"/>
            </linearGradient>
          </defs>
          <rect x="0" y="0" width="640" height="420" fill="#0a1323"/>
          <!-- buildings -->
          <rect x="60" y="220" width="90" height="150" rx="6" fill="#0e1a33" stroke="#1f2e52"/>
          <rect x="170" y="180" width="110" height="190" rx="6" fill="#0e1a33" stroke="#1f2e52"/>
          <rect x="300" y="200" width="95" height="170" rx="6" fill="#0e1a33" stroke="#1f2e52"/>
          <rect x="410" y="160" width="120" height="210" rx="6" fill="#0e1a33" stroke="#1f2e52"/>
          <g fill="#1f2e52">
            <g transform="translate(72,232)">
              <rect width="16" height="10"/><rect x="30" width="16" height="10"/><rect x="60" width="16" height="10"/>
              <rect y="26" width="16" height="10"/><rect x="30" y="26" width="16" height="10"/><rect x="60" y="26" width="16" height="10"/>
            </g>
            <g transform="translate(185,195)">
              <rect width="18" height="10"/><rect x="36" width="18" height="10"/><rect x="72" width="18" height="10"/>
              <rect y="26" width="18" height="10"/><rect x="36" y="26" width="18" height="10"/><rect x="72" y="26" width="18" height="10"/>
            </g>
          </g>
          <!-- crane -->
          <rect x="520" y="70" width="6" height="300" fill="url(#g1)"/>
          <rect x="420" y="90" width="220" height="6" fill="url(#g1)"/>
          <rect x="420" y="84" width="20" height="18" rx="2" fill="url(#g1)"/>
          <line x1="520" y1="90" x2="560" y2="150" stroke="#60a5fa" stroke-width="3"/>
          <line x1="620" y1="96" x2="560" y2="150" stroke="#60a5fa" stroke-width="3"/>
          <rect x="550" y="150" width="20" height="20" fill="url(#g2)"/>
          <rect x="0" y="380" width="640" height="40" fill="#0c1528"/>
        </svg>
      </div>
    </div>
  </div>
</section>

<section class="container" style="margin-top:28px">
  <div class="footer">Demo-only. No files are uploaded; outputs are placeholders to validate UX and formatting.</div>
</section>

<!-- Wizard Overlay (Single Panel) -->
<div class="overlay" id="overlay">
  <div class="wizard" role="dialog" aria-modal="true" aria-labelledby="wizTitle">
    <div class="w-head">
      <div class="w-title" id="wizTitle">Bid Intelligence Flow</div>
      <div class="stepper">
        <span class="chip" id="chip1">1 ¬∑ Upload PDFs</span>
        <span class="chip" id="chip2">2 ¬∑ Choose Action</span>
        <span class="chip" id="chip3">3 ¬∑ Run & Results</span>
      </div>
      <button class="btn" id="closeWiz">Close</button>
    </div>
    <div class="w-body">
      <div class="panel" id="panel">
        <!-- Step 1 -->
        <div id="step1">
          <h3 style="margin:0 0 8px">Upload your bid documents</h3>
          <p style="color:var(--muted); margin:0 0 12px">Bid abstracts, specs, plans, past bids (PDF)</p>
          <div class="drop" id="drop">
            <input id="fileInput" type="file" accept="application/pdf" multiple style="display:none">
            <button class="btn" id="pickFiles">Select PDFs</button>
            <div style="color:var(--muted); font-size:12px; margin-top:8px">or drop them here</div>
          </div>
          <div class="files" id="files"></div>
          <div class="w-actions">
            <button class="btn primary" id="next1">Next</button>
          </div>
        </div>
        <!-- Step 2 -->
        <div id="step2" style="display:none">
          <h3 style="margin:0 0 8px">Choose what to do</h3>
          <p style="color:var(--muted); margin:0 0 12px">Pick an action and add an optional prompt.</p>
          <div class="radio-grid" id="actionGroup">
            <div class="rcard" data-mode="semantic"><div style="font-weight:700; margin-bottom:6px">Semantic search</div><div style="color:var(--muted); font-size:13px">Ask a question across your documents.</div></div>
            <div class="rcard" data-mode="pricing"><div style="font-weight:700; margin-bottom:6px">Pricing comparison</div><div style="color:var(--muted); font-size:13px">Align spec sections vs past bids.</div></div>
            <div class="rcard" data-mode="risk"><div style="font-weight:700; margin-bottom:6px">Risk report</div><div style="color:var(--muted); font-size:13px">Surface ambiguities & conflicts.</div></div>
          </div>
          <div style="margin-top:12px">
            <input class="input" id="prompt" placeholder="e.g., Compare concrete pricing for Spec 033000 vs past bids">
          </div>
          <div class="w-actions">
            <button class="btn" id="back2">Back</button>
            <button class="btn primary" id="next2">Next</button>
          </div>
        </div>
        <!-- Step 3 -->
        <div id="step3" style="display:none">
          <h3 style="margin:0 0 8px">Run analysis</h3>
          <p style="color:var(--muted); margin:0 0 12px">We‚Äôll parse, chunk, embed and index, then format the output.</p>
          <div class="progress"><div class="bar" id="bar"></div></div>
          <div id="resultWrap" style="margin-top:12px"></div>
          <div class="w-actions">
            <button class="btn" id="back3">Back</button>
            <button class="btn primary" id="runAgain">Run Again</button>
            <button class="btn" id="close3">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Elements
  const overlay = document.getElementById('overlay');
  const openWizard = document.getElementById('openWizard');
  const openWizardTop = document.getElementById('openWizardTop');
  const ctaStart = document.getElementById('ctaStart');
  const ctaStartTop = document.getElementById('ctaStartTop');
  const closeWiz = document.getElementById('closeWiz');

  const chip1 = document.getElementById('chip1');
  const chip2 = document.getElementById('chip2');
  const chip3 = document.getElementById('chip3');

  const step1 = document.getElementById('step1');
  const step2 = document.getElementById('step2');
  const step3 = document.getElementById('step3');

  const pickFiles = document.getElementById('pickFiles');
  const fileInput = document.getElementById('fileInput');
  const filesDiv = document.getElementById('files');

  const actionGroup = document.getElementById('actionGroup');
  const promptInput = document.getElementById('prompt');
  const bar = document.getElementById('bar');
  const resultWrap = document.getElementById('resultWrap');

  // State
  let files = [];
  let mode = null;

  function open(){ overlay.classList.add('show'); setStep(1); }
  function close(){ overlay.classList.remove('show'); }

  [openWizard, openWizardTop, ctaStart, ctaStartTop].forEach(el => el && el.addEventListener('click', open));
  [closeWiz, document.getElementById('close3')].forEach(el => el && el.addEventListener('click', close));

  function setStep(n){
    chip1.classList.toggle('active', n===1);
    chip2.classList.toggle('active', n===2);
    chip3.classList.toggle('active', n===3);
    step1.style.display = (n===1)?'block':'none';
    step2.style.display = (n===2)?'block':'none';
    step3.style.display = (n===3)?'block':'none';
    // Ensure top of modal visible on small screens
    overlay.scrollTop = 0;
  }

  // Step 1
  pickFiles.addEventListener('click', ()=> fileInput.click());
  fileInput.addEventListener('change', e => {
    files = Array.from(e.target.files || []).slice(0, 12);
    renderFiles();
  });
  const drop = document.getElementById('drop');
  drop.addEventListener('dragover', e=>{ e.preventDefault(); drop.style.borderColor = 'var(--primary)'; });
  drop.addEventListener('dragleave', e=>{ e.preventDefault(); drop.style.borderColor = 'var(--border)'; });
  drop.addEventListener('drop', e=>{
    e.preventDefault(); drop.style.borderColor = 'var(--border)';
    const list = e.dataTransfer.files;
    files = [...files, ...Array.from(list)].slice(0,12);
    renderFiles();
  });

  function renderFiles(){
    if(!files.length){ filesDiv.innerHTML=''; return; }
    filesDiv.innerHTML = files.map(f => (
      `<div class="file"><span>üìÑ</span><span style="flex:1; overflow:hidden; text-overflow:ellipsis; white-space:nowrap">${f.name}</span><span style="color:#94a3b8; font-size:12px">PDF</span></div>`
    )).join('');
  }

  document.getElementById('next1').addEventListener('click', ()=>{
    if(!files.length){ alert('Please add at least one PDF.'); return; }
    setStep(2);
  });

  // Step 2
  actionGroup.querySelectorAll('.rcard').forEach(card => {
    card.addEventListener('click', ()=> {
      actionGroup.querySelectorAll('.rcard').forEach(c=> c.classList.remove('active'));
      card.classList.add('active');
      mode = card.getAttribute('data-mode');
    });
  });
  document.getElementById('back2').addEventListener('click', ()=> setStep(1));
  document.getElementById('next2').addEventListener('click', ()=>{
    if(!mode){ alert('Please choose an action.'); return; }
    setStep(3);
    simulateProcessing();
  });

  // Step 3
  document.getElementById('back3').addEventListener('click', ()=> setStep(2));
  document.getElementById('runAgain').addEventListener('click', ()=> simulateProcessing());
  document.getElementById('close3').addEventListener('click', close);

  function simulateProcessing(){
    clearResults();
    let p = 0;
    const stages = [18,22,20,20,20]; // upload, parse, chunk, embed, index
    function tick(){
      if(!stages.length){ bar.style.width = '100%'; setTimeout(simulateAnswer, 400); return; }
      p = Math.min(p + stages.shift(), 100);
      bar.style.width = p + '%';
      setTimeout(tick, 450);
    }
    tick();
  }

  function clearResults(){ bar.style.width='0%'; resultWrap.innerHTML=''; }

  function simulateAnswer(){
    const q = (promptInput.value || '').trim();
    const m = mode || 'semantic';
    if(m==='pricing'){ resultWrap.innerHTML = pricingHTML(q); }
    else if(m==='risk'){ resultWrap.innerHTML = riskHTML(q); }
    else{ resultWrap.innerHTML = semanticHTML(q); }
    resultWrap.scrollIntoView({behavior:'smooth', block:'start'});
  }

  function semanticHTML(q){
    return `
      <div class="result">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px">
          <div style="font-weight:800">Semantic Search Answer (demo)</div>
          <span style="color:#9aa3b2; font-size:12px">Demo output</span>
        </div>
        <div style="color:#9aa3b2; font-size:13px; margin-bottom:8px">Query: ${q || 'How does this spec compare to past concrete bids?'}</div>
        <p style="margin:0 0 10px">This is a placeholder synthesis. The real app will pull the most relevant chunks from your documents and cite sources.</p>
        <div style="color:#9aa3b2; font-size:12px">Sources (demo): Bid_Abstract_2024.pdf ¬∑ Spec_Section_033000.pdf ¬∑ Plan_Set_A1.pdf (pp. 12, 36, 48)</div>
      </div>`;
  }

  function pricingHTML(q){
    return `
      <div class="result">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px">
          <div style="font-weight:800">Pricing Comparison (demo)</div>
          <span style="color:#9aa3b2; font-size:12px">Demo output</span>
        </div>
        <div style="color:#9aa3b2; font-size:13px; margin-bottom:8px">Query: ${q || 'Compare concrete pricing across documents'}</div>
        <div style="overflow:auto; border:1px solid var(--border); border-radius:12px">
          <table>
            <thead><tr><th>Item</th><th>Spec / Section</th><th>Past Bid A</th><th>Past Bid B</th><th>Delta</th></tr></thead>
            <tbody>
              <tr><td>Concrete (CY)</td><td>033000</td><td>$138.50</td><td>$131.75</td><td style="color:#fda4af">+5.1%</td></tr>
              <tr><td>Rebar (lb)</td><td>032000</td><td>$1.08</td><td>$1.02</td><td style="color:#fda4af">+5.9%</td></tr>
              <tr><td>Formwork (SF)</td><td>031000</td><td>$4.70</td><td>$4.55</td><td style="color:#fda4af">+3.3%</td></tr>
            </tbody>
          </table>
        </div>
        <p style="margin:10px 0 0">Note: Values are illustrative; the prototype will compute from indexed content.</p>
      </div>`;
  }

  function riskHTML(q){
    return `
      <div class="result">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px">
          <div style="font-weight:800">Risk Report (demo)</div>
          <span style="color:#9aa3b2; font-size:12px">Demo output</span>
        </div>
        <div style="color:#9aa3b2; font-size:13px; margin-bottom:8px">Query: ${q || 'Generate risk report from bid abstracts & plans'}</div>
        <ul style="margin:0 0 8px 18px; padding:0">
          <li>Ambiguous curing requirements (Spec 033000 ¬ß3.6).</li>
          <li>Site access constraints near Gate B (Plan A1 p.12).</li>
          <li>Conflicting rebar schedule vs. notes (Sheet S2 vs. S2-Notes).</li>
        </ul>
        <div style="color:#9aa3b2; font-size:13px">Recommendations: request RFI for curing windows; validate haul routes & staging; confirm rebar grade/spacing.</div>
      </div>`;
  }
</script>
</body>
</html>
